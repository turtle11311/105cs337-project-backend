<!DOCTYPE html>
<html>

<head>
  <title>
    <%= title %>
  </title>
  <!--jQuery-->
  <script src="/bower/jquery/dist/jquery.min.js"></script>
  <script src="/bower/jquery-ui/jquery-ui.min.js"></script>
  <script src="/bower/jquery.fancytree/dist/jquery.fancytree.min.js"></script>
  <link href="/bower/jquery.fancytree/dist/skin-win8/ui.fancytree.min.css" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.customSelect/0.5.1/jquery.customSelect.js"></script>

  <!--Bootstrap-->
  <link type="text/css" rel="stylesheet" href="/bower/bootstrap/dist/css/bootstrap.min.css">
  <link type="text/css" rel="stylesheet" href="/bower/bootstrap/dist/css/bootstrap-theme.min.css">
  <script src="/bower/bootstrap/dist/js/bootstrap.js"></script>
  <script src="/bower/bootbox.js/bootbox.js"></script>
  <script src="/javascripts/support-language.js"></script>
  <link type="text/css" rel="stylesheet" href="/stylesheets/style.css">
  <script type="text/javascript">
    var repo = 'miner_backend';
    var nowFile = '';
  </script>
  <script src="/javascripts/treeview.js"></script>
</head>

<body onload="loadTreeview()">
  <div class="main">
    <div class="function">
      <button type="button" class="btn btn-default" onclick="init()">Init Repository</button>
      <button type="button" class="btn btn-default" onclick="save()">Save</button>
      <button type="button" class="btn btn-default" onclick="remove()">Delete</button>
      <button type="button" class="btn btn-default" onclick="commit()">Commit</button>
      <button type="button" class="btn btn-default" onclick="clone()">Clone</button>
      <button type="button" class="btn btn-default" onclick="listRepos()">Change current Repos</button>
    </div>
    <div class="con_code">
      <div class="treeView">
        <div id="tree"></div>
      </div>
      <div id="editor"></div>
      <div class="editor_option">
        Please select:
        <select id="theme" onchange="loadtheme()">
          </select>
        <select id="language" onchange="loadtheme()"></select>
      </div>
    </div>
  </div>
  <script src="/ace-builds/src-noconflict/ace.js" type="text/javascript" charset="utf-8"></script>
  <script>
    var editor = ace.edit('editor');
    editor.setTheme('ace/theme/monokai');
    editor.session.setMode('ace/mode/javascript');
    $('select#theme').append($('<option></option>').attr('value', 0).text('Choose a theme'));
    for (var i = 0; i < themes.length; i++) {
      $('select#theme').append($('<option></option>').attr('value', themes[i]).text(themes[i]));
    }
    $('select#language').append($('<option></option>').attr('value', 0).text('Choose a language'));
    for (var i = 0; i < languages.length; i++) {
      $('select#language').append($('<option></option>').attr('value', languages[i]).text(languages[i]));
    }
    $('#theme').customSelect();
    $('#language').customSelect();

    function loadtheme() {
      editor.setTheme('ace/theme/' + $('select#theme').find(":selected").val());
      editor.session.setMode('ace/mode/' + $('select#language').find(":selected").val());
    }
  </script>
  <script src="/javascripts/request.js"></script>
</body>

</html>